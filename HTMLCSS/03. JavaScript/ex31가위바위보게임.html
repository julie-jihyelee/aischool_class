<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test3-Game</title>

  <style>
    .container {
      display: flex;
      justify-content: center;
    }

    .box {
      width: 200px;
      height: 200px;
      border: 3px solid black;
      text-align: center;
      margin: 10px;
    }

    .container>button {
      margin-top: 10px;
    }

    .win {
      border: 3px solid green;
    }

    .lose {
      border: 3px solid red;
    }

    .tie {
      border: 3px solid black;
    }
  </style>

</head>

<body>

  <div class="container">
    <div class="box">
      <h1>Me</h1>
      <div id="box-me">...</div>
      <h3 id="result-me">...</h3>
    </div>
    <div class="box">
      <h1>Computer</h1>
      <div id="box-computer">...</div>
      <h3 id="result-computer">...</h3>
    </div>
  </div>

  <div class="container">
    <button id="btn-play">Play</button>
  </div>

  <!-- Javascript 
  1. 유저가 play버튼 누른다
  2. 유저와 컴퓨터는 랜덤으로 가위, 바위, 보 출력
  3. 유저와 컴퓨터 값을 비교 후 출력
    1) 승패에 따라 win, lose
    2) 비긴 경우 tie
  4. 승패에 따라 테두리가 다르게 출력 (HTML객체 .setAtrribute()활용)
    1) 이긴 경우, 초록색 테두리
    2) 진 경우, 빨간 테두리
    3) 비긴 경우, 검정 테두리  
  -->
  <script>
    // 임명진 & 명소이 선생님 풀이

    
    const playBtn = document.getElementById('btn-play');
    // 랜덤하게 생성된 유저와 컴퓨터의 '가위, 바위, 보'결과를 보여주는 요소 객체
    const boxUser = document.getElementById('box-me');
    const boxCom = document.getElementById('box-computer');
    //유저와 컴퓨터 값을 비교한 후 결과를 보여주는 요소 객체 
    const resultUser = document.getElementById('result-me');
    const resultCom = document.getElementById('result-computer');
    
    //승패에 따른 테두리 스타일을 적용할 요소객체
    // 0번째 인덱스 => user-Box , 1번째 인덱스 computer-box!
    const boxList =document.getElementsByClassName('box');

    
    let datalist= ['가위','바위','보'];
  
    //play버튼을 클릭했을 때 동작하는 로직 구현
    playBtn.addEventListener('click',()=>{
      let num1 = parseInt(Math.random()*3)
      let num2 = parseInt(Math.random()*3)
      let user = datalist[num1];
      let com = datalist[num2];
      //가위바위보값 출력
      boxUser.innerText = user ;
      boxCom.innerText = com;

      // 유저와 컴퓨터의 값을 비교한 후 웹 페이지에 결과를 출력하는 로직 구현
      if (user === com){
        resultUser.innerText='tie';
        boxList[0].setAttribute('class', 'box');
        resultCom.innerText='tie';
        boxList[1].setAttribute('class', 'box');
      }else if(num1 === (num2+1)%3){ 
        //['가위'=>0,'바위'=>1,'보'=>2,'가위'=>0,'바위'=>1,'보'=>2]일 때 인덱스 비교 후
        // 반복되는 규칙을 조건으로 만든다. 
        resultUser.innerText='win';
        boxList[0].setAttribute('class', 'box win');//속성 설정!
        resultCom.innerText='lose';
        boxList[1].setAttribute('class', 'box lose');//속성 설정!

      }else{
        resultUser.innerText='lose';
        resultCom.innerText='win';
        boxList[0].setAttribute('class', 'box lose');//속성 설정!
        boxList[1].setAttribute('class', 'box win');//속성 설정!

      };


    });

    // 내꺼 풀이
    // const btn = document.getElementById('btn-play');
    // const boxMe = document.getElementById('box-me');
    // const boxCom = document.getElementById('box-computer');
    // const resultMe = document.getElementById('result-me');
    // const resultCom = document.getElementById('result-computer');
    // const box = document.getElementsByClassName('box');
    
    // const random = ()=>{
    //   let num = parseInt(Math.random()*3) + 1;
    //   if(num ===1){
    //     return '가위'
    //   }else if(num===2){
    //     return '바위'
    //   }else if(num===3){
    //     return '보'
    //   }
    // };

    // btn.addEventListener('click',()=>{
    //   boxMe.innerText=random()
    //   boxCom.innerText=random()

    //   let text1 = boxMe.innerText;
    //   let text2 = boxCom.innerText;

    //   if(text1 == text2){
    //     resultMe.innerText='tie';
    //     resultCom.innerText='tie';
    //   } else if((text1=='가위' && text2=='보')||(text1=="바위" && text2=='가위')||(text1=='보'&&text2=='바위')){
    //     resultMe.innerText='win';
    //     resultCom.innerText='lose';
    //   } else if((text1=='가위' && text2=='바위')||(text1=="바위" && text2=='보')||(text1=='보'&&text2=='가위')){
    //     resultMe.innerText='lose';
    //     resultCom.innerText='win'; 
    //   }
    // })


  </script>
</body>

</html>